<%- include('./partials/head'); %>
<%- include('./partials/sideNav.ejs'); %>
<%- include('./partials/users.ejs'); %>
<%- include('./partials/profile.ejs'); %>

<div class="px-4 pt-3 my-3 text-center border-bottom">
  <h1 class="display-4 fw-bold">Configuration</h1>
  <div class="col-lg-6 mx-auto">
    <p class="lead mb-4">Within this page, you can configure how the board operates, the location of the letters and other vital settings. Please only make changes when they are needed, as this could mess things up! I'll also include a reset button, just in case things get interesting. </p>
    <div class="d-grid gap-2 d-sm-flex justify-content-sm-center mb-5"></div>
  </div>
  <div class="overflow-hidden" style="max-height: 30vh;">
  </div>
</div>


<div class="accordion" id="configAccordion">

  <div class="accordion-item">
    <h2 class="accordion-header" id="headingOne">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
        Letter Placement
      </button>
    </h2>
    <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#configAccordion">
      <div class="accordion-body">

        <div class="container-fluid">
          <div class="row">
            <div class="col">

              <% const lowerLetters = allChars.filter((l) => l.TYPE === 'letter' && l.ID <= 13) %>
              <% lowerLetters.forEach(l => { %>

                  <div class="form-group characters">
                    <label class="form-label mt-4"><strong>" <%= l.CHARACTER %>  "</strong></label>
                    <div class="form-group">
                      <div class="input-group mb-3">
                        <span class="input-group-text">X</span>
                        <input type="number" class="form-control" aria-label="X location of letter" value="<%= l.X %>">
                      </div>
                      <div class="input-group mb-3">
                        <span class="input-group-text">Y</span>
                        <input type="number" class="form-control" aria-label="Y location of letter" value="<%= l.Y %>">
                      </div>
                    </div>
                  </div>

              <% }); %>

            </div>

            <div class="col">

              <% const upperLetters = allChars.filter((l) => l.TYPE === 'letter' && l.ID > 13) %>
              <% upperLetters.forEach(l => { %>

                  <div class="form-group characters">
                    <label class="form-label mt-4"><strong>" <%= l.CHARACTER %>  "</strong></label>
                    <div class="form-group">
                      <div class="input-group mb-3">
          
                        <span class="input-group-text">X</span>
                        <input type="number" class="form-control" aria-label="X location of letter" value="<%= l.X %>">
                      </div>
                      <div class="input-group mb-3">
                        <span class="input-group-text">Y</span>
                        <input type="number" class="form-control" aria-label="Y location of letter" value="<%= l.Y %>">
                      </div>
                    </div>
                  </div>

              <% }); %>

            </div>

          </div>
        </div>

      </div>
    </div>
  </div>

  <div class="accordion-item">
    <h2 class="accordion-header" id="headingTwo">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
        Number Placement
      </button>
    </h2>
    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#configAccordion">
      <div class="accordion-body">

        <div class="container-fluid">
          <div class="row">

            <div class="col">

              <% const lowerNumbers = allChars.filter((l) => l.TYPE === 'number' && l.ID <= 31) %>
              <% lowerNumbers.forEach(l => { %>

                  <div class="form-group characters">
                    <label class="form-label mt-4"><strong>" <%= l.CHARACTER %>  "</strong></label>
                    <div class="form-group">
                      <div class="input-group mb-3">
          
                        <span class="input-group-text">X</span>
                        <input type="number" class="form-control" aria-label="X location of letter" value="<%= l.X %>">
                      </div>
                      <div class="input-group mb-3">
                        <span class="input-group-text">Y</span>
                        <input type="number" class="form-control" aria-label="Y location of letter" value="<%= l.Y %>">
                      </div>
                    </div>
                  </div>

              <% }); %>

            </div>

            <div class="col">

              <% const upperNumbers = allChars.filter((l) => l.TYPE === 'number' && l.ID > 31) %>
              <% upperNumbers.forEach(l => { %>

                  <div class="form-group characters">
                    <label class="form-label mt-4"><strong>" <%= l.CHARACTER %>  "</strong></label>
                    <div class="form-group">
                      <div class="input-group mb-3">
          
                        <span class="input-group-text">X</span>
                        <input type="number" class="form-control" aria-label="X location of letter" value="<%= l.X %>">
                      </div>
                      <div class="input-group mb-3">
                        <span class="input-group-text">Y</span>
                        <input type="number" class="form-control" aria-label="Y location of letter" value="<%= l.Y %>">
                      </div>
                    </div>
                  </div>

              <% }); %>

          </div>
        </div>

      </div>
    </div>
  </div>

  <div class="accordion-item">
    <h2 class="accordion-header" id="headingThree">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
        Other item placement
      </button>
    </h2>
    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#configAccordion">
      <div class="accordion-body">

        <div class="container-fluid">
          <div class="row">

            <div class="col">

              <% const otherChars = allChars.filter((l) => l.TYPE === 'other') %>
              <% otherChars.forEach(l => { %>

                  <div class="form-group characters">
                    <label class="form-label mt-4"><strong>" <%= l.CHARACTER %>  "</strong></label>
                    <div class="form-group">
                      <div class="input-group mb-3">
                        <span class="input-group-text">X</span>
                        <input type="number" class="form-control" aria-label="X location of letter" value="<%= l.X %>">
                      </div>
                      <div class="input-group mb-3">
                        <span class="input-group-text">Y</span>
                        <input type="number" class="form-control" aria-label="Y location of letter" value="<%= l.Y %>">
                      </div>
                    </div>
                  </div>

              <% }); %>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="accordion-item">
    <h2 class="accordion-header" id="headingFour">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
        Speed / delays
      </button>
    </h2>
    <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#configAccordion">
      <div class="accordion-body">

        <div class="container-fluid">
          <div class="row">

            <div class="col">

              <form>
                <fieldset>
                  <label for="delay" class="form-label">Delay between letters: <output id="amount" name="amount" for="delay"><%= delay[0].VALUE %></output></label>
                  <input type="range" class="form-range" min="0" max="10000" value="<%= delay[0].VALUE %>" step="500" id="delay" oninput="amount.value=delay.value">
                </fieldset>
              </form>

            </div>

          </div>
        </div>

      </div>
    </div>
  </div>

</div>

  <div class="row my-4">
    
    <div class="col-6 text-start">
      <button type="button" id="initSubmit" class="btn btn-warning w-100">Board init</button>
    </div>

    <div class="col-6 text-end">
      <button type="button" id="configSubmit" class="btn btn-primary w-100">Save</button>
    </div>

  </div>

</div>

<%- include('./partials/footer.ejs'); %>

<script>
  document.title = "Config | Ouija Board";
</script>

<%- include('./partials/page-end.ejs'); %>